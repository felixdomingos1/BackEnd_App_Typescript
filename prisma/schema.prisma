generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
model User {
  id    Int     @id @default(autoincrement())
  email String  @unique
  userName  String
  userSirName String
  userType String
  passwordHash String
  studant Studant? 
  teacher Teacher?
  admin Admin? 
  studantId Int? 
  teacherId Int? 
  adminId Int? 
  @@map("user")
}
model Studant {
  id Int @id @default(autoincrement())
  dataEnrollment DateTime?
  user User? @relation(fields: [userId], references: [id])
  userId Int? @unique
  enrollments Enrollment?
  @@map("studant")
}
model Teacher {
  id Int @id @default(autoincrement())
  dataHiring DateTime? 
  user User? @relation(fields: [userId], references: [id])
  course Course?
  userId Int? @unique
  @@map("teacher")
}
model Admin {
  id Int @id @default(autoincrement())
  Acessleval Int?
  user User? @relation(fields: [userId], references: [id])
  userId Int? @unique
  @@map("admin")
}

model Course {
  id Int @id @default(autoincrement())
  courseName String
  courseDescription String
  teacherSubject Teacher? @relation(fields: [teacherId], references: [id]) 
  teacherId Int? @unique
  enrollments Enrollment[]
  @@map("course")
}
model Enrollment {
  id Int @id @default(autoincrement())
  studant Studant? @relation(fields: [studantId], references: [id]) 
  course Course?  @relation(fields: [courseId], references: [id]) 
  studantId Int? @unique
  courseId Int? @unique
  @@map("enrollment")
}